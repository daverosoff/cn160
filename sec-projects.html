<!DOCTYPE html>
<!--********************************************-->
<!--*       Generated from PreTeXt source      *-->
<!--*                                          *-->
<!--*         https://pretextbook.org          *-->
<!--*                                          *-->
<!--********************************************-->
<html lang="en-US" dir="ltr">
<head xmlns:og="http://ogp.me/ns#" xmlns:book="https://ogp.me/ns/book#">
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<title>Projects</title>
<meta name="Keywords" content="Authored in PreTeXt">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<meta property="og:type" content="book">
<meta property="book:title" content="Notes on Architecture">
<meta property="book:author" content="Dave Rosoff">
<script>
var runestoneMathReady = new Promise((resolve) => window.rsMathReady = resolve);
window.MathJax = {
  "tex": {
    "inlineMath": [
      [
        "\\(",
        "\\)"
      ]
    ],
    "tags": "none",
    "tagSide": "right",
    "tagIndent": ".8em",
    "packages": {
      "[+]": [
        "base",
        "extpfeil",
        "ams",
        "amscd",
        "color",
        "newcommand",
        "knowl"
      ]
    }
  },
  "options": {
    "ignoreHtmlClass": "tex2jax_ignore|ignore-math",
    "processHtmlClass": "process-math"
  },
  "chtml": {
    "scale": 0.98,
    "mtextInheritFont": true
  },
  "loader": {
    "load": [
      "input/asciimath",
      "[tex]/extpfeil",
      "[tex]/amscd",
      "[tex]/color",
      "[tex]/newcommand",
      "[pretext]/mathjaxknowl3.js"
    ],
    "paths": {
      "pretext": "https://pretextbook.org/js/lib"
    }
  },
  "startup": {
    pageReady() {
      return MathJax.startup.defaultPageReady().then(function () {
      console.log("in ready function");
      rsMathReady();
      }
    )}
  }
};
</script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/lunr.js/2.3.9/lunr.min.js" integrity="sha512-4xUl/d6D6THrAnXAwGajXkoWaeMNwEKK4iNfq5DotEbLPAfk6FSxSP3ydNxqDgCw1c/0Z1Jg6L8h2j+++9BZmg==" crossorigin="anonymous" referrerpolicy="no-referrer"></script><script src="lunr-pretext-search-index.js" async=""></script><script src="https://pretextbook.org/js/0.33/pretext_search.js"></script><link href="https://pretextbook.org/css/0.83/pretext_search.css" rel="stylesheet" type="text/css">
<script>js_version = 0.33</script><script src="https://pretextbook.org/js/lib/jquery.min.js"></script><script src="https://pretextbook.org/js/lib/jquery.sticky.js"></script><script src="https://pretextbook.org/js/lib/jquery.espy.min.js"></script><script src="https://pretextbook.org/js/0.33/pretext.js"></script><script>miniversion=0.1</script><script src="https://pretextbook.org/js/0.33/pretext_add_on.js?x=1"></script><script src="https://pretextbook.org/js/0.33/user_preferences.js"></script><script src="https://pretextbook.org/js/lib/knowl.js"></script><!--knowl.js code controls Sage Cells within knowls--><script>sagecellEvalName='Evaluate (Sage)';
</script><link rel="preconnect" href="https://fonts.googleapis.com">
<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin="">
<link href="https://fonts.googleapis.com/css2?family=Inconsolata:wght@400;700&amp;family=Noto+Serif:ital,wght@0,400;0,700;1,400;1,700&amp;family=Tinos:ital,wght@0,400;0,700;1,400;1,700&amp;display=swap" rel="stylesheet">
<link href="https://fonts.cdnfonts.com/css/dejavu-serif" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Roboto+Serif:opsz,wdth,wght@8..144,50..150,100..900&amp;display=swap" rel="stylesheet">
<link href="https://fonts.googleapis.com/css2?family=Open+Sans:wdth,wght@75..100,300..800&amp;display=swap" rel="stylesheet">
<link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@20..48,100..700,0..1,-50..200">
<link href="https://pretextbook.org/css/0.83/pretext.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/pretext_add_on.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/shell_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/banner_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/navbar_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/toc_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/knowls_default.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/style_oscarlevin.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/colors_green_blue.css" rel="stylesheet" type="text/css">
<link href="https://pretextbook.org/css/0.83/setcolors.css" rel="stylesheet" type="text/css">
</head>
<body id="dwrcn160" class="pretext book ignore-math">
<a class="assistive" href="#ptx-content">Skip to main content</a><header id="ptx-masthead" class="ptx-masthead"><div class="ptx-banner">
<a id="logo-link" class="logo-link" target="_blank" href=""></a><div class="title-container">
<h1 class="heading"><a href="my-great-book.html"><span class="title">Notes on Architecture</span></a></h1>
<p class="byline">Dave Rosoff</p>
</div>
</div></header><nav id="ptx-navbar" class="ptx-navbar navbar"><button class="toc-toggle button" title="Contents"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5d2;</span><span class="name">Contents</span></button><div class="searchbox">
<div class="searchwidget"><button id="searchbutton" class="searchbutton button" type="button" title="Search book"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe8b6;</span><span class="name">Search Book</span></button></div>
<div id="searchresultsplaceholder" class="searchresultsplaceholder" style="display: none">
<div class="search-results-controls">
<input aria-label="Search term" id="ptxsearch" class="ptxsearch" type="text" name="terms" placeholder="Search term"><button title="Close search" id="closesearchresults" class="closesearchresults"><span class="material-symbols-outlined">close</span></button>
</div>
<h2 class="search-results-heading">Search Results: </h2>
<div id="searchempty" class="searchempty"><span>No results.</span></div>
<ol id="searchresults" class="searchresults"></ol>
</div>
</div>
<span class="nav-other-controls"></span><span class="treebuttons"><a class="previous-button button" href="sec-assignment-day04.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="up-button button" href="sec-assignments.html" title="Up"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Up</span></a><a class="next-button button" href="sec-homework.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a></span></nav><div id="latex-macros" class="hidden-content process-math" style="display:none"><span class="process-math">\(\newcommand{\N}{\mathbb N}
   \newcommand{\Z}{\mathbb Z}
   \newcommand{\Q}{\mathbb Q}
   \newcommand{\R}{\mathbb R}
   \newcommand{\negg}{{\sim}}
   \newcommand{\barvee}{\mathbin{\overline{\vee}}}
\newcommand{\lt}{&lt;}
\newcommand{\gt}{&gt;}
\newcommand{\amp}{&amp;}
\definecolor{fillinmathshade}{gray}{0.9}
\newcommand{\fillinmath}[1]{\mathchoice{\colorbox{fillinmathshade}{$\displaystyle     \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\textstyle        \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptstyle      \phantom{\,#1\,}$}}{\colorbox{fillinmathshade}{$\scriptscriptstyle\phantom{\,#1\,}$}}}
\)</span></div>
<div class="ptx-page">
<div id="ptx-sidebar" class="ptx-sidebar"><nav id="ptx-toc" class="ptx-toc depth3"><ul class="structural contains-active toc-item-list">
<li class="toc-item toc-frontmatter"><div class="toc-title-box"><a href="frontmatter.html" class="internal"><span class="title">Front Matter</span></a></div></li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="ch-chapter-title.html" class="internal"><span class="codenumber">1</span> <span class="title">The Serpent and the Pico</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-section-name.html" class="internal"><span class="codenumber">1.1</span> <span class="title">Binary and Exploding Dots</span></a></div></li>
<li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-binary-boolean-operators.html" class="internal"><span class="codenumber">1.2</span> <span class="title">Binary boolean operators</span></a></div></li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-bitwise-operators.html" class="internal"><span class="codenumber">1.3</span> <span class="title">Bitwise operators</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-bitwise-operators.html#subsection-bitmasking" class="internal"><span class="codenumber">1.3.1</span> <span class="title">Bitmasking</span></a></div></li></ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-logic-gates-and-circuits.html" class="internal"><span class="codenumber">1.4</span> <span class="title">Logic gates and circuits</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-logic-gates-and-circuits.html#subsec-the-basic-gates" class="internal"><span class="codenumber">1.4.1</span> <span class="title">The Basic Gates</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-logic-gates-and-circuits.html#subsec-adder-circuits" class="internal"><span class="codenumber">1.4.2</span> <span class="title">Adder circuits</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-standard-forms.html" class="internal"><span class="codenumber">1.5</span> <span class="title">Standard forms</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-standard-forms.html#subsec-minterm-canonical-form" class="internal"><span class="codenumber">1.5.1</span> <span class="title">Minterm canonical form</span></a></div></li>
<li class="toc-item toc-subsection"><div class="toc-title-box"><a href="sec-standard-forms.html#subsec-maxterms" class="internal"><span class="codenumber">1.5.2</span> <span class="title">The maxterm canonical form</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-chapter">
<div class="toc-title-box"><a href="ch-the-c-sdk-and-assembly.html" class="internal"><span class="codenumber">2</span> <span class="title">The C SDK and assembly</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-section"><div class="toc-title-box"><a href="sec-using-the-sdk-on-codespaces.html" class="internal"><span class="codenumber">2.1</span> <span class="title">Using the SDK on Codespaces</span></a></div></li></ul>
</li>
<li class="toc-item toc-chapter contains-active">
<div class="toc-title-box"><a href="sec-assignments.html" class="internal"><span class="codenumber">3</span> <span class="title">Assignments</span></a></div>
<ul class="structural toc-item-list contains-active">
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="assignments-day00.html" class="internal"><span class="codenumber">3.1</span> <span class="title">Problems for Monday, Jan 8</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-exercises"><div class="toc-title-box"><a href="assignments-day00.html#exercises-day00" class="internal"><span class="codenumber">3.1</span> <span class="title">Exercises</span></a></div></li></ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-assignment-day04.html" class="internal"><span class="codenumber">3.2</span> <span class="title">Problems for Thursday, January 11</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-exercises"><div class="toc-title-box"><a href="sec-assignment-day04.html#exercises-day04" class="internal"><span class="codenumber">3.2</span> <span class="title">Exercises</span></a></div></li></ul>
</li>
<li class="toc-item toc-section active">
<div class="toc-title-box"><a href="sec-projects.html" class="internal"><span class="codenumber">3.3</span> <span class="title">Projects</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="sec-projects.html#subsec-project-02-bitmasking" class="internal"><span class="codenumber">3.3.1</span> <span class="title">Project 02: Bitmasking</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="sec-projects.html#subsubsec-proj-02a" class="internal"><span class="codenumber">3.3.1.1</span> <span class="title">Part A: <code class="code-inline tex2jax_ignore">utils.py</code></span></a></div></li>
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="sec-projects.html#subsubsec-proj-02b" class="internal"><span class="codenumber">3.3.1.2</span> <span class="title">Part B: Bitmasking</span></a></div></li>
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="sec-projects.html#subsubsec-proj-02c" class="internal"><span class="codenumber">3.3.1.3</span> <span class="title">Part C: Animations</span></a></div></li>
</ul>
</li>
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="sec-projects.html#subsec-proj-03" class="internal"><span class="codenumber">3.3.2</span> <span class="title">Project 03: Buttons and Input</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="sec-projects.html#subsubsec-proj03-a" class="internal"><span class="codenumber">3.3.2.1</span> <span class="title">Part A</span></a></div></li>
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="sec-projects.html#subsubsec-proj03-b" class="internal"><span class="codenumber">3.3.2.2</span> <span class="title">Part B</span></a></div></li>
<li class="toc-item toc-subsubsection"><div class="toc-title-box"><a href="sec-projects.html#subsubsec-proj03-c" class="internal"><span class="codenumber">3.3.2.3</span> <span class="title">Part C</span></a></div></li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-section">
<div class="toc-title-box"><a href="sec-homework.html" class="internal"><span class="codenumber">3.4</span> <span class="title">Homework</span></a></div>
<ul class="structural toc-item-list">
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="sec-homework.html#subsec-hw1" class="internal"><span class="codenumber">3.4.1</span> <span class="title">Homework 1</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-exercises"><div class="toc-title-box"><a href="sec-homework.html#subsec-hw1-3" class="internal"><span class="codenumber">3.4.1</span> <span class="title">Exercises</span></a></div></li></ul>
</li>
<li class="toc-item toc-subsection">
<div class="toc-title-box"><a href="sec-homework.html#subsec-hw2" class="internal"><span class="codenumber">3.4.2</span> <span class="title">Homework 2</span></a></div>
<ul class="structural toc-item-list"><li class="toc-item toc-exercises"><div class="toc-title-box"><a href="sec-homework.html#exercises-hw2" class="internal"><span class="codenumber">3.4.2</span> <span class="title">Exercises</span></a></div></li></ul>
</li>
</ul>
</li>
</ul>
</li>
<li class="toc-item toc-backmatter"><div class="toc-title-box"><a href="backmatter.html" class="internal"><span class="title">Backmatter</span></a></div></li>
</ul></nav></div>
<main class="ptx-main"><div id="ptx-content" class="ptx-content"><section class="section" id="sec-projects"><h2 class="heading hide-type">
<span class="type">Section</span><span class="space"> </span><span class="codenumber">3.3</span><span class="space"> </span><span class="title">Projects</span>
</h2>
<section class="subsection" id="subsec-project-02-bitmasking"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">3.3.1</span><span class="space"> </span><span class="title">Project 02: Bitmasking</span>
</h3>
<section class="subsubsection" id="subsubsec-proj-02a"><h4 class="heading hide-type">
<span class="type">Subsubsection</span><span class="space"> </span><span class="codenumber">3.3.1.1</span><span class="space"> </span><span class="title">Part A: <code class="code-inline tex2jax_ignore">utils.py</code></span>
</h4>
<div class="para" id="subsubsec-proj-02a-2">Now that we are beginning to have more than one file, it’s time to start organizing our code. We’ll do this by creating a <code class="code-inline tex2jax_ignore">utils.py</code> file and moving our <code class="code-inline tex2jax_ignore">binary_write()</code> function into it. The <code class="code-inline tex2jax_ignore">code.py</code> file will be the main file, and it will import the <code class="code-inline tex2jax_ignore">binary_write()</code> function from the <code class="code-inline tex2jax_ignore">utils.py</code> directory.</div>
<div class="para logical" id="subsubsec-proj-02a-3">
<div class="para">Use the Mu editor to open a new file on your Pico. Save and name it <code class="code-inline tex2jax_ignore">utils.py</code> (put it in the top-level folder alongside <code class="code-inline tex2jax_ignore">code.py</code>). Then, move (don’t copy) the <code class="code-inline tex2jax_ignore">binary_write()</code> function’s definition into <code class="code-inline tex2jax_ignore">utils.py</code>. You will also want to include any necessary import statements in <code class="code-inline tex2jax_ignore">utils.py</code>. Now, in the <code class="code-inline tex2jax_ignore">code.py</code> file, add the following line at the top:</div>
<pre class="code-display tex2jax_ignore">from utils import binary_write
</pre>
<div class="para">The meaning of this line is that we are importing the <code class="code-inline tex2jax_ignore">binary_write()</code> function from the <code class="code-inline tex2jax_ignore">utils.py</code> file. The <code class="code-inline tex2jax_ignore">from ... import ...</code> syntax ensures that the short name of the function is available rather than its fully qualified name <code class="code-inline tex2jax_ignore">utils.binary_write()</code>. If we do <code class="code-inline tex2jax_ignore">import utils</code> instead, then we would need to call the function as <code class="code-inline tex2jax_ignore">utils.binary_write()</code>.</div>
</div>
<div class="para" id="subsubsec-proj-02a-4">Just as we learn to separate the work of our programs into functions, instead of piling everything into one big main function, we should also separate our functions into files. This makes it easier to organize our code and to find things when we need to change them.</div></section><section class="subsubsection" id="subsubsec-proj-02b"><h4 class="heading hide-type">
<span class="type">Subsubsection</span><span class="space"> </span><span class="codenumber">3.3.1.2</span><span class="space"> </span><span class="title">Part B: Bitmasking</span>
</h4>
<div class="para" id="subsubsec-proj-02b-2">Put all the function definitions from <a href="sec-assignment-day04.html#exercises-day04" class="internal" title="Exercises 3.2">Exercises 3.2</a> into your <code class="code-inline tex2jax_ignore">utils.py</code> file. You will need to add the <code class="code-inline tex2jax_ignore">from ... import ...</code> statements to <code class="code-inline tex2jax_ignore">code.py</code> to make them available.</div></section><section class="subsubsection" id="subsubsec-proj-02c"><h4 class="heading hide-type">
<span class="type">Subsubsection</span><span class="space"> </span><span class="codenumber">3.3.1.3</span><span class="space"> </span><span class="title">Part C: Animations</span>
</h4>
<div class="para" id="subsubsec-proj-02c-2">You can create marquee-style animations by using a loop to turn on and off LEDs in a sequence. For example, if you have four LEDs connected to pins 0, 1, 2, and 3, you can create a <code class="code-inline tex2jax_ignore">kitt</code> animation by turning on the first LED, then the second, then the third, then the fourth, then the third, then the second, then the first, and then repeating the process. You can use the <code class="code-inline tex2jax_ignore">time.sleep()</code> function to pause between turning on and off the LEDs.</div>
<div class="para" id="subsubsec-proj-02c-3">Use the <code class="code-inline tex2jax_ignore">binary_write()</code> function to create three different such animations. They shouldn’t look too much alike. Each one should be enclosed in a function, as below. Notice there is no <code class="code-inline tex2jax_ignore">while True</code> loop. We want to be able to run it only a few times, which would be impossible if we had an infinite loop. Do not duplicate the example as one of your submissions.</div>
<div class="para" id="subsubsec-proj-02c-4">You receive credit for Part C if you can show me three working animation cycles (just once through for each is fine) and the code for each uses <code class="code-inline tex2jax_ignore">binary_write()</code> to turn on and off the LEDs. The <code class="code-inline tex2jax_ignore">binary_write()</code> function must be imported from <code class="code-inline tex2jax_ignore">utils.py</code>. Full credit solutions should make use of some of the functions from Part B.</div>
<article class="example example-like" id="example-animate-kitt"><h5 class="heading">
<span class="type">Example</span><span class="space"> </span><span class="codenumber">3.3.1</span><span class="period">.</span><span class="space"> </span><span class="title">Example: <code class="code-inline tex2jax_ignore">kitt</code> animation.</span>
</h5> <div class="para logical" id="example-animate-kitt-2"><pre class="code-display tex2jax_ignore">def animate_kitt():
    frames = [1, 1 &lt;&lt; 1, 1 &lt;&lt; 2, 1 &lt;&lt; 3, 1 &lt;&lt; 2, 1 &lt;&lt; 1, 1] 
    for f in frames:
        binary_write(f)
        time.sleep(0.1)
</pre></div></article></section></section><section class="subsection" id="subsec-proj-03"><h3 class="heading hide-type">
<span class="type">Subsection</span><span class="space"> </span><span class="codenumber">3.3.2</span><span class="space"> </span><span class="title">Project 03: Buttons and Input</span>
</h3>
<section class="introduction" id="subsec-proj-03-2"><div class="para" id="subsec-proj-03-2-1">In this project, you’ll incorporate input into your circuitry. Make sure Project 02 is completed before you start this one.</div> <div class="para" id="subsec-proj-03-2-2">You will need to remove one LED from your circuit to make room for the button. I have used its GPIO pin for the button, but you can use any pin you like. My concern was a readable diagram.</div> <div class="para" id="subsec-proj-03-2-3">Take care to observe that the button is not wired to the breadboard in the same was as the LEDs. The LEDs receive the high signal from GPIO through the resistor, and then current flows through the LED to ground. The button is wired so that the Pico’s power rail (make sure this is connected to 3.3V on pin 36, not 5V on pin 40 or pin 39) is connected to one leg of the button, and the other leg is connected to GPIO.</div> <div class="para" id="subsec-proj-03-2-4">When the button is open (not pressed), no current flows through the button (it will be connected to ground through the Pico’s internal <em class="emphasis">pull-down resistor</em>). When the button is closed (pressed), current flows from the power rail through the button to GPIO, pulling the GPIO input high. Your code will allow the Pico to detect this high voltage and trigger an action.</div></section><section class="subsubsection" id="subsubsec-proj03-a"><h4 class="heading hide-type">
<span class="type">Subsubsection</span><span class="space"> </span><span class="codenumber">3.3.2.1</span><span class="space"> </span><span class="title">Part A</span>
</h4>
<div class="para" id="subsubsec-proj03-a-2">Wire your button to the breadboard as shown in the diagram below. <em class="emphasis">Make sure the power rails (red) are connected to 3.3V only! The 5V main power lines will destroy your Pico!</em>
</div>
<figure class="figure figure-like" id="figure-pico-with-button-bb"><div class="image-box" style="width: 30%; margin-left: 35%; margin-right: 35%;"><img src="external/7-led-pico-with-button_bb_fix.png" class="contained" alt="The button is wired to the bottom three rows."></div>
<figcaption><span class="type">Figure</span><span class="space"> </span><span class="codenumber">3.3.2<span class="period">.</span></span><span class="space"> </span>Pico with button for input.</figcaption></figure><div class="para logical" id="subsubsec-proj03-a-4">
<div class="para">Then you will need to make some changes in how the pins are initialized. Your button pin (GPIO 16 in my diagram) will need to be configured as an input. Because we didn’t connect the button to ground, we need to tell the Pico to use the internal pull-down resistor. This will ensure that the input is low when the button is not pressed. The code below shows how to do this.</div>
<pre class="code-display tex2jax_ignore">import board
import digitalio
import time
from utils import binary_write

LED_PINS_SETUP = [board.GP16, board.GP17, board.GP18, board.GP19,
                  board.GP20, board.GP21, board.GP22, board.GP26]
PINS = [None] * 8
for i, led_pin in enumerate(LED_PINS_SETUP):
    PINS[i] = digitalio.DigitalInOut(led_pin)
    PINS[i].direction = digitalio.Direction.OUTPUT
    if i == 0:
        PINS[i].switch_to_input(pull=digitalio.Pull.DOWN)
    PINS[i].value = False

button = PINS[0]
leds = PINS[1:]
</pre>
<div class="para">Without the internal pull-down resistor, the input would be <em class="emphasis">floating</em> when the button is not pressed. This means that it would be neither high nor low, and it would be impossible to tell whether the button was pressed or not. The internal pull-down resistor ensures that the input is low when the button is not pressed. Without this software solution, we would need to add a physical resistor to the circuit connecting the button to ground. The internal pull-down resistor is a convenient alternative and they are ubiquitous in microcontrollers.</div>
</div></section><section class="subsubsection" id="subsubsec-proj03-b"><h4 class="heading hide-type">
<span class="type">Subsubsection</span><span class="space"> </span><span class="codenumber">3.3.2.2</span><span class="space"> </span><span class="title">Part B</span>
</h4>
<div class="para" id="subsubsec-proj03-b-2">The buttons are built so that they connect across the vertical groove running down the middle of the breadboard. When the button is connected, it electrically connects the two sides of the groove. When the button is pressed, both pins on the left side of the groove are connected to both pins on the right side of the groove.</div>
<div class="para logical" id="subsubsec-proj03-b-3">
<div class="para">Make sure all your Project 02 code is safe somewhere (in another file, not <code class="code-inline tex2jax_ignore">code.py</code>, on your Pico or your laptop) and then add this code to your <code class="code-inline tex2jax_ignore">code.py</code> file:</div>
<pre class="code-display tex2jax_ignore">while True:
    if button.value:
        print("Hello sailor!")
        time.sleep(0.5)
</pre>
<div class="para">In the Serial pane, you should see the output when you press the button. When you have succeeded, play with the delay time in the call to <code class="code-inline tex2jax_ignore">time.sleep()</code>. What happens if you make it too short? What happens if you make it too long? Discuss with the people in your group.</div>
</div>
<div class="para" id="subsubsec-proj03-b-4">I will visit each group and check the group off together. Don’t move on to part C until you are checked off. Instead, work on HW 1.</div></section><section class="subsubsection" id="subsubsec-proj03-c"><h4 class="heading hide-type">
<span class="type">Subsubsection</span><span class="space"> </span><span class="codenumber">3.3.2.3</span><span class="space"> </span><span class="title">Part C</span>
</h4>
<div class="para" id="subsubsec-proj03-c-2">The difficulty with using buttons for input is that the Pico has to be listening for the button press. If the Pico is busy doing something else, it won’t be able to respond to the button press. This is why we used the <code class="code-inline tex2jax_ignore">time.sleep()</code> function in the example above.</div>
<div class="para logical" id="subsubsec-proj03-c-3">
<div class="para">Try to adapt your animation code so that your Pico does the following on reset:</div>
<ol class="lower-roman">
<li id="subsubsec-proj03-c-3-1-1"><div class="para" id="subsubsec-proj03-c-3-1-1-1">Display a short “ready” sequence, like flashing all the LEDs on and off three times.</div></li>
<li id="subsubsec-proj03-c-3-1-2"><div class="para" id="subsubsec-proj03-c-3-1-2-1">Wait for the button to be pressed.</div></li>
<li id="subsubsec-proj03-c-3-1-3"><div class="para" id="subsubsec-proj03-c-3-1-3-1">Display the next animation three times.</div></li>
<li id="subsubsec-proj03-c-3-1-4"><div class="para" id="subsubsec-proj03-c-3-1-4-1">Go to step 2.</div></li>
</ol>
<div class="para">If you press the button while the animation is running, what happens? Is that what you expected, or what a typical user would expect? Discuss with the people in your group.</div>
</div></section></section></section></div>
<div class="ptx-content-footer">
<a class="previous-button button" href="sec-assignment-day04.html" title="Previous"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cb;</span><span class="name">Prev</span></a><a class="top-button button" href="#" title="Top"><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5ce;</span><span class="name">Top</span></a><a class="next-button button" href="sec-homework.html" title="Next"><span class="name">Next</span><span class="icon material-symbols-outlined" aria-hidden="true">&#xe5cc;</span></a>
</div></main>
</div>
<div id="ptx-page-footer" class="ptx-page-footer">
<a class="pretext-link" href="https://pretextbook.org" title="PreTeXt"><div class="logo"><svg xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="338 3000 8772 6866"><g style="stroke-width:.025in; stroke:black; fill:none"><polyline points="472,3590 472,9732 " style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round; "></polyline><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,9448 A 4660 4660  0  0  1  8598  9259"></path><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4488,9685 A 4228 4228  0  0  0   472  9732"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:butt;" d="M 4724,3590 A 4241 4241  0  0  1  8598  3496"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,3496  A 4241 4241  0  0  1  4724  3590"></path><path style="stroke:#000000;stroke-width:126;stroke-linecap:round;" d="M 850,9259  A 4507 4507  0  0  1  4724  9448"></path><polyline points="5385,4299 4062,8125" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8598,3496 8598,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="850,3496 850,9259" style="stroke:#000000;stroke-width:126; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="4960,9685 4488,9685" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="3070,4582 1889,6141 3070,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="6418,4582 7600,6141 6418,7700" style="stroke:#000000;stroke-width:300; stroke-linejoin:miter; stroke-linecap:round;"></polyline><polyline points="8976,3590 8976,9732" style="stroke:#000000;stroke-width:174; stroke-linejoin:miter; stroke-linecap:round;"></polyline><path style="stroke:#000000;stroke-width:174;stroke-linecap:butt;" d="M 4960,9685 A 4228 4228  0  0  1  8976  9732"></path></g></svg></div></a><a class="runestone-link" href="https://runestone.academy" title="Runestone Academy"><img class="logo" src="https://runestone.academy/runestone/static/images/RAIcon_cropped.png"></a><a class="mathjax-link" href="https://www.mathjax.org" title="MathJax"><img class="logo" src="https://www.mathjax.org/badge/badge-square-2.png"></a>
</div>
</body>
</html>
